## 第二个例子：客户端/服务器环境下的并发处理
能够将信息提供给成千上万个客户端的应用程序非常重要，采用最佳方式实现系统的服务器端非常必要。

客户端 / 服务器模型是一种软件架构，基于这种模型的应用程序被划分为两个部分：  
-	提供资源（数据、操作、打印机、存储等）的服务器端。
-	使用服务器端所提供的资源的客户端。  

我们将实现一个简单的客户端 / 服务器应用程序。  
它将对某银行发布的发展指数进行数据搜索。

该服务器主要有以下特点。
1.	客户端与服务器都使用套接字连接。

2.	客户端将以字符串形式发送查询，而服务器将用另一个字符串返回结果。
3.	服务器可以响应三种不同查询。  
	1.1	Query ：这种查询的格式是 q;codCountry;codIndicator;year 。  
	其中 codCountry 是国家代码， codIndicator 是指数代码，而 year 是一个可选参数，表示你想要查询的年份。  
	服务器的响应信息将以单个字符串的形式返回。  
	1.2	Report ：这种查询的格式是 r;codIndicator ，其中 codIndicator 是你要制表的指数代码。  
	服务器将以单个字符串形式响应各年份所有国家该指数的平均值。  
	1.3	Stop ：这种查询的格式是 z ；接收到该命令时，服务器将停止执行。
4.	在其他情况下，服务器将返回一个错误消息。

## 客户端/服务器：串行版 ##
服务器应用程序的串行版本主要有三个部件。
-	DAO（data access object，数据访问对象）部件，负责访问数据并且获取查询结果。

-	命令部件，由各种查询的命令组成。
-	服务器部件，接收查询，调用对应命令，并且向客户端返回结果。

### DAO 部件
服务器将针对发展指数进行数据搜索。该数据以 CSV 文件存放。  
该应用程序中的 DAO 组件将整个文件加载到内存的一个 List 对象中。  
它为涉及的每个查询都实现一个方法，而这些方法通过搜索该列表查找数据。

### 命令部件
命令部件是 DAO 部件和服务器部件之间的中介。  

### 服务器部件
服务器部件在 SerialServer 类中实现。  
1.	它通过调用 getDAO() 方法初始化 DAO 。其主要目的是使用 DAO 加载所有数据。

2.	需要执行一个循环，直到该服务器接收到一个 Stop 查询为止。  
该循环执行以下四步。  
	2.1	接收来自客户端的查询。   
	2.2	解析并分割该查询的要素。  
	2.3	调用对应的命令。  
	2.4	向客户端返回结果。  